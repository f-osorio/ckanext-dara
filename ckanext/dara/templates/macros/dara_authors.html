{# used in level 1 of datasets and resources #}

{% macro author_fields(dara_authors) -%}


<div id="dara_additional_authors" style="margin-left:50px;">
            <div id="current_number_of_authors" style="display:none">
                {{ dara_authors|count if dara_authors else 0 }}</div>
            {% set counter = 1 %}
            
            {% if dara_authors %}
                {% for author in dara_authors %}
                    {% set counter = counter+1 %}
                    {% set name = "dara_author_" ~ counter %}
                    {% set label = 'Author ' ~ counter %}
                    {% set value = author %}
                    {% set field = 'field-' ~ name %}
                   
                {# XXX this way no validation is possible! XXX #}    
                <div class="control-group dara_author">
                    <label class="control-label" for="{{ field }}">{{ label }}</label>
                    <div class="controls ">
                        <input id="{{ field }}" type="text" name="{{ name }}" 
                        value="{{ author }}" placeholder="Joe Bloggs" />
                        <a href="#" class="dara_red" id="remove_author">Remove</a>
                    </div>
                </div>
                {% endfor %}
            {% endif %}
                  
            <div id="additional_authors">  
                <!-- add author -->
            </div>
            <p style="margin-bottom:25px"><a href="#" class="btn" id="add_author">
                Add Author</a> </p>
</div>

{%- endmacro %}
        

